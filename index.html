
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario Simplificado - ChatBot Sun & Sea</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #1e88e5;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 20px;
    }
    select, textarea, input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 20px;
      background: #1e88e5;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #1565c0;
    }
    header {
      text-align: center;
    }
    header img {
      width: 200px;
      margin-bottom: 10px;
    }
    #ayuda {
      background: #f1f1f1;
      padding: 15px;
      margin-top: 20px;
      display: none;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="Sunandsea_logo.png" alt="Sun and Sea Real Estate">
      <h2>ğŸ“ EvaluaciÃ³n ChatBot â€“ Sun & Sea</h2>
    </header>

    <button onclick="mostrarAyuda()">ğŸ“˜ Ayuda para testear</button>
    <div id="ayuda">
      <h3>Â¿CÃ³mo completar la evaluaciÃ³n?</h3>
      <ul>
        <li>1. IngresÃ¡ tu nombre para identificar la evaluaciÃ³n.</li>
        <li>2. SeleccionÃ¡ una pregunta de ejemplo. Si la usÃ¡s tal cual, podÃ©s copiarla con el botÃ³n "Copiar texto".</li>
        <li>3. Si hiciste una variante o escribiste otra consulta, completala en "Pregunta realizada".</li>
        <li>4. PegÃ¡ la respuesta exacta que dio el bot.</li>
        <li>5. EscribÃ­ la respuesta que esperabas del bot (ideal).</li>
        <li>6. HacÃ© clic en "Enviar formulario". Se te preguntarÃ¡ si querÃ©s cargar otra evaluaciÃ³n.</li>
      </ul>
      <p>Gracias por ayudarnos a mejorar nuestra atenciÃ³n al cliente con IA ğŸ¤–</p>
    </div>

    <form id="formulario-evaluacion" action="https://formsubmit.co/jporley@yahoo.es" method="POST">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="https://julioporley.github.io/formulario-chatbot-sunandsea/?enviado=1">

      <label for="evaluator_name">1. Nombre del evaluador:</label>
      <input type="text" id="evaluator_name" name="evaluator_name" required>

      <label for="question_number">2. Preguntas de ejemplo:</label>
      <select id="question_number" name="question_number">
        <option value="1">Â¿QuÃ© opciones me recomiendas para alquilar todo el aÃ±o con un presupuesto de 500â‚¬?</option>
        <option value="2">Â¿CuÃ¡l es la propiedad mÃ¡s barata que tenÃ©is disponible para alquiler de larga estancia?</option>
        <option value="3">Estoy buscando algo por 15 dÃ­as, Â¿puedo alquilar con vosotros?</option>
        <option value="4">Â¿QuÃ© propiedades tienen disponibles en Lo PagÃ¡n o alrededores?</option>
        <option value="5">Â¿TenÃ©is algÃºn piso disponible en venta por menos de 50.000â‚¬?</option>
        <option value="6">Â¿CuÃ¡l es el apartamento mÃ¡s econÃ³mico en Moraira disponible en octubre por un aÃ±o?</option>
        <option value="7">Quiero alquilar por un aÃ±o a partir de septiembre. Â¿QuÃ© opciones tenÃ©is?</option>
        <option value="8">Â¿TenÃ©is pisos disponibles por todo el aÃ±o o solo de septiembre a junio?</option>
        <option value="9">Quiero comprar una casa. Â¿Me puedes mostrar pisos de obra nueva?</option>
        <option value="10">Â¿Esta propiedad acepta mascotas?</option>
        <option value="11">Tengo un perro pequeÃ±o, Â¿quÃ© propiedades puedo ver?</option>
        <option value="12">Â¿CuÃ¡ntos meses de fianza se requieren?</option>
        <option value="13">Â¿QuÃ© documentaciÃ³n debo presentar si soy autÃ³nomo?</option>
        <option value="14">Â¿Puedo pagar el contrato por adelantado?</option>
        <option value="15">Â¿El servicio de Sun & Sea tiene algÃºn costo? Â¿QuÃ© incluye exactamente?</option>
        <option value="16">Â¿DÃ³nde estÃ¡n ubicadas vuestras oficinas?</option>
        <option value="17">Â¿CuÃ¡l es el horario de atenciÃ³n?</option>
        <option value="18">Â¿OfrecÃ©is alquiler vacacional?</option>
        <option value="19">Â¿Puedo empadronarme en el piso?</option>
        <option value="20">Â¿QuiÃ©n me ayuda si tengo un problema con la vivienda una vez alquilada?</option>
      </select>
      <button type="button" onclick="copiarTextoSeleccionado()">Copiar texto</button>

      <label for="scenario">3. Pregunta realizada:</label>
      <textarea id="scenario" name="scenario" rows="3"></textarea>

      <label for="bot_reply">4. Respuesta del Bot:</label>
      <textarea id="bot_reply" name="bot_reply" rows="3"></textarea>

      <label for="expected_reply">5. Respuesta esperada:</label>
      <textarea id="expected_reply" name="expected_reply" rows="3"></textarea>

      <button type="submit">Enviar formulario</button>
    </form>
  </div>

  <script>
    function copiarTextoSeleccionado() {
      const selector = document.getElementById("question_number");
      const texto = selector.options[selector.selectedIndex].text;
      navigator.clipboard.writeText(texto).then(() => {
        alert("Texto copiado: " + texto);
      }).catch(err => {
        alert("Error al copiar: " + err);
      });
    }

    function mostrarAyuda() {
      const ayuda = document.getElementById("ayuda");
      ayuda.style.display = ayuda.style.display === "none" ? "block" : "none";
    }

    window.onload = function () {
      const params = new URLSearchParams(window.location.search);
      if (params.get("enviado") === "1") {
        const evaluator = localStorage.getItem("evaluador");
        setTimeout(() => {
          if (confirm("âœ… Â¡Formulario enviado! Â¿QuerÃ©s evaluar otra respuesta?")) {
            const form = document.getElementById("formulario-evaluacion");
            form.question_number.selectedIndex = 0;
            form.scenario.value = "";
            form.bot_reply.value = "";
            form.expected_reply.value = "";
            if (evaluator) document.getElementById("evaluator_name").value = evaluator;
            history.replaceState({}, document.title, window.location.pathname);
          }
        }, 500);
      }

      const savedName = localStorage.getItem("evaluador");
      if (savedName) {
        document.getElementById("evaluator_name").value = savedName;
      }

      document.getElementById("evaluator_name").addEventListener("input", function () {
        localStorage.setItem("evaluador", this.value);
      });
    };
  </script>
</body>
</html>
